function C(){const h=new WebSocket(`ws://${location.host}`);h.onopen=()=>setInterval(()=>h.send("ping"),5000),h.onmessage=(J)=>{if(J.data!=="Well received")console.log(J.data);if(J.data==="reload")location.reload()}}function o(...h){const J=[];for(let M of h){const W=document.getElementById(M);if(W===null)return console.error(`Cannot get any HTML Element given the "${M}" id`),null;J.push(W)}return J}function B(h){const J=o(h.canvasId,h.solutionSpaceSizePId,h.resetBtnId,h.gtBtnId,h.btBtnId,h.ncCheckboxId,h.acNoneRadioId,h.ac1RadioId,h.ac3RadioId,h.testedSolutionsPId,h.prunedSolutionsPId,h.progressPId,h.timeleftPId);if(J===null)return null;return{canvas:J[0],solutionSpaceSizeP:J[1],resetBtn:J[2],gtBtn:J[3],btBtn:J[4],ncCheckbox:J[5],acNoneRadio:J[6],ac1Radio:J[7],ac3Radio:J[8],testedSolutionsP:J[9],prunedSolutionsP:J[10],progressP:J[11],timeleftP:J[12]}}function c(h){h.elements.canvas.onmousemove=(J)=>{J.stopPropagation();const{offsetX:M,offsetY:W}=J,$=Math.min(Math.floor(M/h.ui.cellSize),8),q=Math.min(Math.floor(W/h.ui.cellSize),8),Q=h.getSelectedCell();document.onclick=()=>{if(Q===null||Q[0]!==$||Q[1]!==q)h.setSelectedCell([$,q]),h.refreshGrid()}},h.elements.canvas.onmouseout=(J)=>{if(J.stopPropagation(),h.getSelectedCell()!==null)h.setSelectedCell(null),h.refreshGrid()},document.onkeyup=(J)=>{if(J.stopPropagation(),J.key>="1"&&J.key<="9"&&h.getSelectedCell()!==null){const M=parseInt(J.key);if(M%1===0)h.toggle(M)}},h.elements.resetBtn.onclick=(J)=>{h.app.reset()},h.elements.gtBtn.onclick=(J)=>{h.app.reset(),h.app.launchGTSolve()}}function S(h){h.canvas.onmousemove=null,h.canvas.onmouseout=null,document.onkeyup=null}var i=function(h){const J=BigInt("999999999999");if(h<=J)return h.toString();else{const M=h.toString(),W=M.length,$=W-1;return`${M[0]+(W>1?"."+M.substring(1,3):"")}e${$}`}};class _{h;J;M;W;$;q;constructor(h,J,M,W,$,q){this._app=h;this._solutionSpaceSizeP=J;this._testedSolutionsP=M;this._prunedSolutionsP=W;this._progressP=$;this._timeleftP=q}display(){const h=this._app.solutionSpaceSize;if(typeof h==="undefined")return;this._solutionSpaceSizeP.innerText=`${i(h)}`;const{start:J,tested:M,pruned:W}=this._app.stats;this._testedSolutionsP.innerText=`${M}`,this._prunedSolutionsP.innerText=`${W}`}static create(h){return new _(h.app,h.solutionSpaceSizeP,h.testedSolutionsP,h.prunedSolutionsP,h.progressP,h.timeleftP)}}var G=getComputedStyle(document.documentElement);class Y{h;J;static _ui=new WeakMap;_cellSize;static colorBackground=G.getPropertyValue("--neutral-white");static colorBackgroundHighlight=G.getPropertyValue("--brand-uno-background");static colorSelected=G.getPropertyValue("--brand-uno-hover");static colorText=G.getPropertyValue("--brand-uno");static colorTextLight=G.getPropertyValue("--brand-uno-light");static colorBorder=G.getPropertyValue("--sudoku-border");static colorBorderBold=G.getPropertyValue("--brand-uno");static colorSuccess=G.getPropertyValue("--signal-success");static colorSuccessBackground=G.getPropertyValue("--signal-success-background");static font=G.getPropertyValue("--font-family-primary");constructor(h,J){this._canvas=h;this._ctx=J;this._cellSize=Math.round(Math.min(h.width,h.height)/9)}static get(h){if(Y._ui.has(h))return Y._ui.get(h);const J=h.getContext("2d");if(J===null)return!1;const M=new Y(h,J);return Y._ui.set(h,M),M}get width(){return this._canvas.width}get height(){return this._canvas.height}get cellSize(){return this._cellSize}clearCanvas(){return this._ctx.fillStyle=Y.colorBackground,this._ctx.fillRect(0,0,this.width,this.height),this}drawCell(h,J,M=this._cellSize,W=Y.thinLineColor,$){const q=h*M,Q=J*M;if($)this._ctx.fillStyle=$,this._ctx.fillRect(q+1,Q+1,M-2,M-2);return this._ctx.strokeStyle=W,this._ctx.strokeRect(q,Q,M,M),this}drawRow(h,J){for(let M=0;M<9;M++)this.drawCell(M,h,this._cellSize,Y.colorBorder,J);return this}drawColumn(h,J){for(let M=0;M<9;M++)this.drawCell(h,M,this._cellSize,Y.colorBorder,J);return this}drawGroup(h,J,M){this.drawCell(h,J,this._cellSize*3,Y.colorBorderBold,M);for(let W=0;W<3;W++)for(let $=0;$<3;$++)this.drawCell(h*3+W,J*3+$,this._cellSize,Y.colorBorder);return this}drawCellValue(h,J,M){this._ctx.fillStyle=Y.colorText,this._ctx.font=`600 48px ${Y.font}`,this._ctx.textBaseline="middle",this._ctx.textAlign="center";const W=h*this._cellSize+Math.floor(this._cellSize*0.5),$=J*this._cellSize+Math.floor(this._cellSize*0.575);return this._ctx.fillText(M.toString(),W,$),this}drawCellDomain(h,J,M){this._ctx.fillStyle=Y.colorTextLight,this._ctx.font=`400 14px ${Y.font}`,this._ctx.textBaseline="top",this._ctx.textAlign="start";const W=Math.max(this._cellSize-2,Math.floor(this._cellSize*0.8)),$=Math.floor(W/3),q=Math.max(1,Math.floor(this._cellSize*0.1)),Q=h*this._cellSize+q,X=J*this._cellSize+q;for(let L=1;L<=9;L++){const T=M.has(L)?L:null,A=(L-1)%3,x=Math.floor((L-1)/3),E=Q+$*A,k=X+$*x;this._ctx.fillText(T!==null?T.toString():"",E,k)}return this}drawEmptyGrid(){this.clearCanvas();for(let h=0;h<3;h++)for(let J=0;J<3;J++)this.drawGroup(h,J);return this}colorizeSelectedStuff(h){if(h===null)return this;const J=[Math.floor(h[0]/3),Math.floor(h[1]/3)];return this.drawRow(h[1],Y.colorBackgroundHighlight).drawColumn(h[0],Y.colorBackgroundHighlight).drawGroup(J[0],J[1],Y.colorBackgroundHighlight).drawCell(h[0],h[1],this._cellSize,Y.colorBorder,Y.colorSelected),this}drawVictory(){return this._ctx.fillStyle=Y.colorSuccessBackground,this._ctx.fillRect(0,0,this.width,this.height),this._ctx.fillStyle=Y.colorSuccess,this._ctx.font=`600 72px ${Y.font}`,this._ctx.textBaseline="middle",this._ctx.textAlign="center",this._ctx.fillText("Victory !".toUpperCase(),this._canvas.width/2,this._canvas.height/2),this}}function D(h,J){return z.fromJSON(h,J)}function j(h){return z.getByName(h)}class z{static domains=new Map;_values;constructor(h=[]){this._values=new Set(h)}add(h){this._values.add(h)}del(h){this._values.delete(h)}has(h){return this._values.has(h)}copy(h){const J=new z(this.toJSON());return z.domains.set(h,J),J}toJSON(){const h=[];for(let J of this._values)h.push(J);return h}getSize(){return this._values.size}static validateJSON(h){if(Array.isArray(h)&&h.length>0){const J=typeof h[0];if(!h.reduce((W,$)=>W&&typeof $===J,!0))return!1}return!0}static fromJSON(h,J){if(z.validateJSON(J)){const M=new z(J);return z.domains.set(h,M),M}throw new Error("At least one element do not have the same type as the other")}static getByName(h){return z.domains.get(h)}}function P(h,J){return g.fromJSON(h,J)}function F(h){return g.getByName(h)}class g{h;J;M;static variables=new Map;_value;constructor(h,J,M){this._name=h;this._domainName=J;this._domain=M}get name(){return this._name}get domain(){return this._domain}get value(){return this._value}set(h){if(this._domain.has(h))this._value=h}unset(){this._value=void 0}isSet(){return typeof this._value!=="undefined"}toJSON(){const h={domain:this._domainName};if(this.isSet())h.value=this._value;return h}static fromJSON(h,J){const M=j(J.domain);if(typeof M==="undefined")throw new Error(`The variable "${h}" reference an unknown domain "${J.domain}"`);const W=new g(h,J.domain,M.copy(`${h}-domain`));return g.variables.set(h,W),W}static getByName(h){return g.variables.get(h)}}class Z{h;static constraints=new Map;constructor(h){this._name=h}get name(){return this._name}static getByName(h){return Z.constraints.get(h)}}class w extends Z{J;M;static type="intension";static arity=1;constructor(h,J,M){super(h);this._v=J;this._checkConsistency=M}get type(){return w.type}get arity(){return w.arity}get variableName(){return this._v.name}checkConsistency(){return this._v.isSet()&&this._checkConsistency(this._v.value)}toJSON(){return{type:w.type,arity:w.arity,variable:this._v.name,valueConsistency:this._checkConsistency.toString()}}static create(h,J){const M=F(J.variable);if(!M)throw new Error(`The constraint "${h}" refer to an unknown variable "${J.variable}"`);const W=new w(h,M,J.valueConsistency);return Z.constraints.set(h,W),W}static fromJSON(h,J){const M=new Function(`return ${J.valueConsistency}`)(),W={...J,valueConsistency:M};return w.create(h,W)}}class R extends Z{J;static type="extension";static arity=1;_index;_areSupports;_areConflicts;constructor(h,J,M,W){super(h);this._v=J;this._index=new Set(M.filter(($)=>J.domain.has($))),this._areSupports=W==="supports",this._areConflicts=W==="conflicts"}get type(){return R.type}get arity(){return R.arity}get variableName(){return this._v.name}checkConsistency(){if(!this._v.isSet())return!1;return this._index.has(this._v.value)?this._areSupports:this._areConflicts}toJSON(){const h=[];for(let J of this._index.values())h.push(J);return{type:R.type,arity:R.arity,variable:this._v.name,values:h,valuesType:this._areSupports?"supports":"conflicts"}}static create(h,J){const M=F(J.variable);if(!M)throw new Error(`The constraint "${h}" refer to an unknown variable "${J.variable}"`);const W=new R(h,M,J.values,J.valuesType);return Z.constraints.set(h,W),W}static fromJSON(h,J){return R.create(h,J)}}function s(h){return h.type===w.type}function e(h){return h.type===w.type}function d(h,J){return s(J)?w.fromJSON(h,J):R.fromJSON(h,J)}function v(h,J){return e(J)?w.create(h,J):R.create(h,J)}var I=1;class H extends Z{J;M;static type="intension";static arity=2;constructor(h,J,M){super(h);this._v=J;this._checkConsistency=M}get type(){return H.type}get arity(){return H.arity}get variableNames(){return[this._v[0].name,this._v[1].name]}checkConsistency(){const[h,J]=this._v;return h.isSet()&&J.isSet()&&this._checkConsistency(h.value,J.value)}toJSON(){return{type:H.type,arity:H.arity,variables:this.variableNames,valuesConsistency:this._checkConsistency.toString()}}static create(h,J){const[M,W]=J.variables,$=F(M),q=F(W);if(!($&&q))throw new Error(`The constraint "${h}" refers to the variables "${M}" and "${W}" but one of them is unknown`);const Q=new H(h,[$,q],J.valuesConsistency);return Z.constraints.set(h,Q),Q}static fromJSON(h,J){const M=new Function(`return ${J.valuesConsistency}`)(),W={...J,valuesConsistency:M};return H.create(h,W)}}class O extends Z{J;static type="extension";static arity=2;_index;_areSupports;_areConflicts;constructor(h,J,M,W){super(h);this._v=J;const $=M.filter((q)=>J[0].domain.has(q[0])&&J[1].domain.has(q[1]));this._index=new Map;for(let q=0;q<$.length;q++){const[Q,X]=$[q];if(!this._index.has(Q))this._index.set(Q,new Set);this._index.get(Q).add(X)}this._areSupports=W==="supports",this._areConflicts=W==="conflicts"}get type(){return O.type}get arity(){return O.arity}get variableNames(){return[this._v[0].name,this._v[1].name]}checkConsistency(){const[h,J]=this._v;if(!(h.isSet()&&J.isSet()))return!1;const M=this._index.get(h.value);return M&&M.has(J.value)?this._areSupports:this._areConflicts}toJSON(){const h=[];for(let J of this._index.keys())for(let M of this._index.get(J).values())h.push([J,M]);return{type:O.type,arity:O.arity,variables:this.variableNames,tuples:h,tuplesType:this._areSupports?"supports":"conflicts"}}static create(h,J){const[M,W]=J.variables,$=F(M),q=F(W);if(!($&&q))throw new Error(`The constraint "${h}" refers to the variables "${M}" and "${W}" but one of them is unknown`);const Q=new O(h,[$,q],J.tuples,J.tuplesType);return Z.constraints.set(h,Q),Q}static fromJSON(h,J){return O.create(h,J)}}function a(h){return h.type===H.type}function n(h){return h.type===H.type}function p(h,J){return a(J)?H.fromJSON(h,J):O.fromJSON(h,J)}function u(h,J){return n(J)?H.create(h,J):O.create(h,J)}function hh(h){return h.arity===I}function Jh(h){return h.arity===I}function m(h,J){return hh(J)?d(h,J):p(h,J)}function f(h,J){return Jh(J)?v(h,J):u(h,J)}class V{h;J;M;W;_solutionSpaceSize;constructor(h,J,M,W){this._name=h;this._domains=J;this._variables=M;this._constraints=W;this._solutionSpaceSize=this.computeSolutionSpaceSize()}get name(){return this._name}get solutionsSpaceSize(){return this._solutionSpaceSize}get domains(){return this._domains}get variables(){return this._variables}get constraints(){return this._constraints}static bigintRatio(h,J){const M=this.simplifyFraction(h,J);return M[0]<=Number.MAX_SAFE_INTEGER&&M[1]<=Number.MAX_SAFE_INTEGER?Number(M[0])/Number(M[1]):M}computeSolutionSpaceSize(){let h=1n,J=0n;for(let M of this._variables.values())J=h*BigInt(M.domain.getSize()),h=J;return J}static pgcd(h,J){if(h===0n||J===0n)return 1n;const M=h>J?h:J,W=h<=J?h:J,$=M/W,q=M%W;return q===0n?$:this.pgcd($,q)}static simplifyFraction(h,J){let M=h,W=J,$=this.pgcd(M,W);while($>1n)M=M/$,W=W/$,$=this.pgcd(M,W);return[M,W]}toJSON(){const h={};for(let[W,$]of this._domains.entries())h[W]=$.toJSON();const J={};for(let[W,$]of this._variables.entries())J[W]=$.toJSON();const M={};for(let[W,$]of this._constraints.entries())M[W]=$.toJSON();return{name:this._name,domains:h,variables:J,constraints:M}}setAffectation(h){for(let J in h){const M=this._variables.get(J),W=h[J];if(M?.domain.has(W))M.set(W)}}unsetAffectation(h){for(let J in h){const M=this._variables.get(J);if(M?.isSet())M.unset()}}static propsToDomains(h){const J=new Map;for(let M in h.domains)J.set(M,D(M,h.domains[M]));return J}static propsToVariables(h){const J=new Map;for(let M in h.variables)J.set(M,P(M,h.variables[M]));return J}static propsToConstraints(h){const J=new Map;for(let M in h.constraints)J.set(M,m(M,h.constraints[M]));return J}static fromJSON(h){return new V(h.name,V.propsToDomains(h),V.propsToVariables(h),V.propsToConstraints(h))}}class y{h;_workingProblem;_solving=!1;constructor(h){this._initialProblem=h}get solving(){return this._solving}copyProblem(h){const J=h.toJSON();return V.fromJSON(J)}*_gtAffectation(){const h=[];for(let $ of this._workingProblem.variables.keys())h.push($);const J=[];for(let $ of h){const Q=this._workingProblem.variables.get($).domain.toJSON();if(Q.length===0)return;J.push([$,0,Q])}const M=J.reduce(($,[q,Q,X])=>$+X.length,0);let W=0;while(W<M&&this._solving){const $={};for(let[q,Q,X]of J)$[q]=X[Q];yield $,W=0;for(let q=J.length-1;q>=0;q--){const[Q,X,L]=J[q];if(X<L.length-1){J[q][1]++,W+=J[q][1];break}else J[q][1]=0}}}*gt(h=!0,J=!1){this._solving=!0,this._workingProblem=this.copyProblem(this._initialProblem);for(let M of this._gtAffectation()){if(!this._solving)return;const W=this._gtIsConsistent(M);if(W||J)yield[M,W];if(W&&h)return}}_gtIsConsistent(h){if(!this._workingProblem)return!1;this._workingProblem.setAffectation(h);for(let J of this._workingProblem.constraints.values())if(!J.checkConsistency())return!1;return this._workingProblem.unsetAffectation(h),!0}stop(){this._solving=!1}static create(h){return new y(h.problem)}}class K extends V{$;static baseCellDomain=D("baseCellDomain",[1,2,3,4,5,6,7,8,9]);static mustBeDifferent=(h,J)=>h!==J;constructor(h,J,M,W,$){super(h,J,M,W);this._ui=$}static prepareDomains(){const h=new Map,J=[];for(let M=0;M<9;M++){const W=[];for(let $=0;$<9;$++){const q=`d:${$}x${M}`,Q=K.baseCellDomain.copy(q);h.set(q,Q),W.push(q)}J.push(W)}return[h,J]}static vName(h,J){return`cell${h}x${J}`}static prepareVariables(h){const J=[],M=new Map;for(let W=0;W<9;W++){const $=[];for(let q=0;q<9;q++){const Q=h[W][q],X=K.vName(q,W),L=P(X,{domain:Q});M.set(X,L),$.push(X)}J.push($)}return[M,J]}static rule(h,J){return{type:"intension",arity:2,variables:[h,J],valuesConsistency:K.mustBeDifferent}}static prepareConstraints(h){const J=new Map;for(let M=0;M<9;M++)for(let W=0;W<9;W++)for(let $=W+1;$<9;$++){let q=`c:${W}x${M}->${$}x${M}`,Q=K.rule(h[M][W],h[M][$]),X=f(q,Q);J.set(q,X),q=`c:${M}x${W}->${M}x${$}`,Q=K.rule(h[W][M],h[$][M]),X=f(q,Q),J.set(q,X)}for(let M=0;M<9;M++){const W=M%3,$=(M-W)/3%3;for(let q=0;q<9;q++){const Q=q%3,X=W+Q,L=(q-Q)/3%3,T=$+L;for(let A=q;A<9;A++){const x=A%3,E=W+x,k=(A-x)/3%3,U=$+k,b=`c:${X}x${T}->${E}x${U}`,l=K.rule(h[T][X],h[U][E]),t=f(b,l);J.set(b,t)}}}return J}static create(h){const[J,M]=K.prepareDomains(),[W,$]=K.prepareVariables(M),q=K.prepareConstraints($);return new K(h.name,J,W,q,h.ui)}_getVariable(h,J){const M=K.vName(h,J);return this._variables.get(M)}_drawCellContent(h,J){const M=this._getVariable(h,J);if(M)if(M.isSet())this._ui.drawCellValue(h,J,M.value);else this._ui.drawCellDomain(h,J,M.domain)}cellIsSet(h,J){return this._getVariable(h,J)?.isSet()??!1}domainHas(h,J,M){return this._getVariable(h,J)?.domain.has(M)??!1}drawCellsContent(){for(let h=0;h<9;h++)for(let J=0;J<9;J++)this._drawCellContent(J,h)}setCellValue(h,J,M){this._getVariable(h,J)?.set(M)}unsetCellValue(h,J){this._getVariable(h,J)?.unset()}getCellValue(h,J){return this._getVariable(h,J)?.value}_removeValue(h,J,M){this._getVariable(h,J)?.domain.del(M)}_addValue(h,J,M){this._getVariable(h,J)?.domain.add(M)}maintainImpactedCellsDomain(h,J,M,W){const $=W?this._removeValue.bind(this):this._addValue.bind(this);for(let X=0;X<9;X++){if(X!==h)$&&$(X,J,M);if(X!==J)$&&$(h,X,M)}const q=Math.floor(h/3),Q=Math.floor(J/3);for(let X=0;X<3;X++)for(let L=0;L<3;L++){const T=q*3+L,A=Q*3+X;if(T!==h&&A!==J)$&&$(T,A,M)}}}class N{h;J;selectedCell=null;_problem;_statsDisplay;_solver;_iterationsMin=0;_iterationsMax=0;_lastTime=0;_startTime=0;_minDt=Number.MAX_SAFE_INTEGER;_handleRefreshStats=null;_solverSteps;_testedSolutions=0n;_prunedSolutions=0n;_gtIterator=null;constructor(h,J){this._ui=h;this._elements=J}get solutionSpaceSize(){return this._problem?.solutionsSpaceSize}get stats(){return{start:this._startTime,tested:this._testedSolutions,pruned:this._prunedSolutions}}_refreshGrid(){this._ui.drawEmptyGrid().colorizeSelectedStuff(this.selectedCell),this._problem?.drawCellsContent()}_toggle(h){if(!this._problem)return;const[J,M]=this.selectedCell;if(!this._problem.cellIsSet(J,M)){if(this._problem?.domainHas(J,M,h)??!1)this._problem?.setCellValue(J,M,h),this._problem?.maintainImpactedCellsDomain(J,M,h,!0),this._refreshGrid()}else if(this._problem?.getCellValue(J,M)===h){this._problem?.unsetCellValue(J,M),this._problem?.maintainImpactedCellsDomain(J,M,h,!1);for(let W=0;W<9;W++)for(let $=0;$<9;$++)if(this._problem?.getCellValue($,W)===h)this._problem?.maintainImpactedCellsDomain($,W,h,!0);this._refreshGrid()}}start(){if(c({app:this,elements:this._elements,ui:this._ui,refreshGrid:this._refreshGrid.bind(this),toggle:this._toggle.bind(this),getSelectedCell:()=>this.selectedCell,setSelectedCell:(h)=>this.selectedCell=h}),this._problem=K.create({name:`sudoku-${Date.now()}`,ui:this._ui}),this._refreshGrid(),!this._solver)this._solver=y.create({problem:this._problem});if(typeof this._statsDisplay==="undefined")this._statsDisplay=_.create({app:this,solutionSpaceSizeP:this._elements.solutionSpaceSizeP,testedSolutionsP:this._elements.testedSolutionsP,prunedSolutionsP:this._elements.prunedSolutionsP,progressP:this._elements.progressP,timeleftP:this._elements.timeleftP});this._statsDisplay.display()}stop(){if(this._solver?.stop(),this._gtIterator=null,this._lastTime=0,this._solverSteps=void 0,S(this._elements),this._elements.ncCheckbox.checked=!1,this._elements.acNoneRadio.checked=!0,this._handleRefreshStats!==null)clearInterval(this._handleRefreshStats),this._handleRefreshStats=null}reset(){this.stop(),this.start()}_computeSolvingIterations(h){const J=h-this._lastTime;if(J*0.9<=this._minDt/2)this._iterationsMax*=2,this._iterationsMin*=2;else if(J*0.9<=this._minDt)this._iterationsMin=Math.floor(this._iterationsMin*1.5),this._iterationsMax=Math.max(this._iterationsMin+1,this._iterationsMax);else if(J*1.1>=this._minDt*2)this._iterationsMin=Math.max(Math.floor(this._iterationsMin/2),1),this._iterationsMax=Math.max(Math.floor(this._iterationsMax/2),2);else if(J*1.1>=this._minDt)this._iterationsMax=Math.ceil(this._iterationsMax*0.67),this._iterationsMin=Math.min(this._iterationsMax-1,this._iterationsMin);return this._minDt=Math.min(this._minDt,J),this._lastTime=h,Math.max(Math.floor((this._iterationsMax+this._iterationsMin)/2),1)}launchGTSolve(){if(!this._solver||this._solver.solving||!this._problem)return;if(this._startTime=Date.now(),this._testedSolutions=0n,this._prunedSolutions=0n,this._minDt=Number.MAX_SAFE_INTEGER,this._iterationsMin=1,this._iterationsMax=1000,this._handleRefreshStats===null)this._handleRefreshStats=setInterval(()=>{this._statsDisplay?.display()},500);if(this._solverSteps=(h)=>{let J=null;for(let M=0;M<h;M++){const[W,$]=this._gtIterator.next().value;if(J=W,this._testedSolutions++,$){this._gtIterator=null;break}}if(J)this._problem.setAffectation(J)},this._gtIterator===null)this._gtIterator=this._solver.gt(!0,!0);this._animateSolve(1000)}_animateSolve(h){if(this._solverSteps){if(this._solverSteps(this._computeSolvingIterations(h)),this._refreshGrid(),this._solver?.solving)requestAnimationFrame(this._animateSolve.bind(this))}}static create(h){const J=B(h);if(J===null)return null;const M=Y.get(J.canvas);if(!M)return null;return new N(M,J)}}var Mh="sudokuCanvas",Wh="sudokuSolutionsSize",$h="reset",qh="GT",Qh="BT",Xh="NC",Yh="ACNone",Lh="AC1",Zh="AC3",Kh="testedSolutions",wh="prunedSolutions",Hh="progress",Gh="timeleft";C();var r=N.create({canvasId:Mh,solutionSpaceSizePId:Wh,resetBtnId:$h,gtBtnId:qh,btBtnId:Qh,ncCheckboxId:Xh,acNoneRadioId:Yh,ac1RadioId:Lh,ac3RadioId:Zh,testedSolutionsPId:Kh,prunedSolutionsPId:wh,progressPId:Hh,timeleftPId:Gh});r&&r.start();
